<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora de Teoria de Juegos</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap" rel="stylesheet">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); color: #e0e0e0; }
        header { background: linear-gradient(135deg, #0f3460 0%, #16213e 100%); padding: 30px; text-align: center; color: white; border-bottom: 3px solid #e94560; }
        .container { max-width: 1400px; margin: 30px auto; padding: 0 20px; }
        .back-btn { display: inline-block; margin-bottom: 20px; padding: 10px 20px; background: #0f3460; color: white; text-decoration: none; border-radius: 6px; }
        .back-btn:hover { background: #1a4d70; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px; margin-bottom: 30px; }
        .panel { background: #16213e; border: 2px solid #0f3460; border-radius: 12px; padding: 25px; }
        .panel h2 { color: #e94560; margin-bottom: 20px; font-size: 1.3em; }
        .controls { background: #0f3460; padding: 15px; border-radius: 8px; margin-bottom: 15px; }
        label { display: block; margin-bottom: 8px; font-weight: 600; color: #e94560; }
        input { width: 100%; padding: 10px; background: #1a1a2e; border: 1px solid #e94560; color: #e0e0e0; border-radius: 6px; margin-bottom: 10px; }
        button { padding: 12px; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; background: #e94560; color: white; width: 100%; }
        button:hover { background: #d63852; }
        table { width: 100%; border-collapse: collapse; margin: 15px 0; }
        th, td { padding: 12px; text-align: center; border: 1px solid #e94560; }
        th { background: #e94560; color: #16213e; }
        td { background: #1a1a2e; }
        .result { background: #0f3460; padding: 15px; border-radius: 8px; border-left: 4px solid #e94560; margin: 10px 0; }
        .result-value { font-size: 1.4em; font-weight: bold; color: #e94560; margin-top: 5px; }
    </style>
</head>
<body>
    <header>
        <h1>Game Theory Calculator - Analisis Electoral</h1>
        <p>Nash Equilibrium y Strategic Analysis</p>
    </header>
    
    <div class="container">
        <a href="index.html" class="back-btn">Volver al Inicio</a>
        
        <div class="grid">
            <div class="panel">
                <h2>Configuracion del Juego 2x2</h2>
                <div class="controls">
                    <label>J1 Estrat A - J1 Payoff:</label>
                    <input type="number" id="p1_aa" value="3" min="-100" max="100">
                    <label>J1 Estrat A - J2 Payoff:</label>
                    <input type="number" id="p2_aa" value="3" min="-100" max="100">
                    
                    <label>J1 Estrat B - J1 Payoff:</label>
                    <input type="number" id="p1_ab" value="0" min="-100" max="100">
                    <label>J1 Estrat B - J2 Payoff:</label>
                    <input type="number" id="p2_ab" value="5" min="-100" max="100">
                    
                    <label>J2 Estrat A - J1 Payoff:</label>
                    <input type="number" id="p1_ba" value="5" min="-100" max="100">
                    <label>J2 Estrat A - J2 Payoff:</label>
                    <input type="number" id="p2_ba" value="0" min="-100" max="100">
                    
                    <label>J2 Estrat B - J1 Payoff:</label>
                    <input type="number" id="p1_bb" value="1" min="-100" max="100">
                    <label>J2 Estrat B - J2 Payoff:</label>
                    <input type="number" id="p2_bb" value="1" min="-100" max="100">
                </div>
                <button onclick="calcularNash()">Calcular Equilibrio</button>
            </div>
            
            <div class="panel">
                <h2>Matriz de Pagos</h2>
                <table>
                    <tr><th></th><th>J2-A</th><th>J2-B</th></tr>
                    <tr><th>J1-A</th><td><span id="mat_aa">3,3</span></td><td><span id="mat_ab">0,5</span></td></tr>
                    <tr><th>J1-B</th><td><span id="mat_ba">5,0</span></td><td><span id="mat_bb">1,1</span></td></tr>
                </table>
            </div>
        </div>
        
        <div class="panel">
            <h2>Resultados del Analisis</h2>
            <div class="result">
                <label>Estrategia Dominante J1:</label>
                <div class="result-value" id="result_j1">-</div>
            </div>
            <div class="result">
                <label>Estrategia Dominante J2:</label>
                <div class="result-value" id="result_j2">-</div>
            </div>
            <div class="result">
                <label>Equilibrio de Nash:</label>
                <div class="result-value" id="result_nash">-</div>
            </div>
            <div class="result">
                <label>Interpretacion:</label>
                <div id="interpretacion" style="margin-top: 10px; font-size: 0.95em; line-height: 1.6;">
                    Ingresa valores y calcula...
                </div>
            </div>
        </div>
    </div>
    
    <script>
        function actualizarMatriz() {
            document.getElementById('mat_aa').textContent = document.getElementById('p1_aa').value + ',' + document.getElementById('p2_aa').value;
            document.getElementById('mat_ab').textContent = document.getElementById('p1_ab').value + ',' + document.getElementById('p2_ab').value;
            document.getElementById('mat_ba').textContent = document.getElementById('p1_ba').value + ',' + document.getElementById('p2_ba').value;
            document.getElementById('mat_bb').textContent = document.getElementById('p1_bb').value + ',' + document.getElementById('p2_bb').value;
        }
        
        function calcularNash() {
            const p1_aa = parseInt(document.getElementById('p1_aa').value);
            const p2_aa = parseInt(document.getElementById('p2_aa').value);
            const p1_ab = parseInt(document.getElementById('p1_ab').value);
            const p2_ab = parseInt(document.getElementById('p2_ab').value);
            const p1_ba = parseInt(document.getElementById('p1_ba').value);
            const p2_ba = parseInt(document.getElementById('p2_ba').value);
            const p1_bb = parseInt(document.getElementById('p1_bb').value);
            const p2_bb = parseInt(document.getElementById('p2_bb').value);
            
            actualizarMatriz();
            
            let j1_dominante = '-';
            let j2_dominante = '-';
            
            if ((p1_aa >= p1_ba && p1_ab >= p1_bb)) j1_dominante = 'Estrat. A';
            else if ((p1_aa <= p1_ba && p1_ab <= p1_bb)) j1_dominante = 'Estrat. B';
            
            if ((p2_aa >= p2_ab && p2_ba >= p2_bb)) j2_dominante = 'Estrat. A';
            else if ((p2_aa <= p2_ab && p2_ba <= p2_bb)) j2_dominante = 'Estrat. B';
            
            document.getElementById('result_j1').textContent = j1_dominante;
            document.getElementById('result_j2').textContent = j2_dominante;
            
            let nash_encontrado = [];
            if (p1_aa >= p1_ba && p2_aa >= p2_ba) nash_encontrado.push('(A, A)');
            if (p1_ab >= p1_bb && p2_ab >= p2_aa) nash_encontrado.push('(A, B)');
            if (p1_ba >= p1_aa && p2_ba >= p2_bb) nash_encontrado.push('(B, A)');
            if (p1_bb >= p1_ab && p2_bb >= p2_ab) nash_encontrado.push('(B, B)');
            
            let nash_text = nash_encontrado.length > 0 ? nash_encontrado.join(', ') : 'No puro';
            document.getElementById('result_nash').textContent = nash_text;
            
            let interpretacion = nash_encontrado.length === 1 ? 'Equilibrio unico encontrado.' : (nash_encontrado.length > 1 ? 'Multiples equilibrios.' : 'Equilibrio mixto puede existir.');
            document.getElementById('interpretacion').textContent = interpretacion;
        }
        
        window.onload = () => calcularNash();
    </script>
</body>
</html>
